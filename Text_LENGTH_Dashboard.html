<!-- HTML5 doctype: tells browsers to use modern (standards) rendering -->
<!DOCTYPE html>
<!-- Document language (helps accessibility, screen readers, and SEO) -->
<html lang="en">
<head>
    <!-- Document character encoding -->
    <meta charset="UTF-8">
    <!-- Ensure proper scaling on mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Visible page title in browser tabs and search results -->
    <title>Word Length Analyzer — Text Length Dashboard</title>
    <!-- Short description for search engines and previews -->
    <meta name="description" content="Analyze word lengths in text, find the longest and shortest words, and view detailed word-length lists with an accessible, semantic interface.">
    <!-- Author of the page/app -->
    <meta name="author" content="ramfromindia">
    <!-- Preferred canonical URL to avoid duplicate-content issues -->
    <!-- Using relative URLs for VS Code compatibility, file:// absolute fallback in comments -->
    <!-- file:///c:/Users/DELL/OneDrive/Desktop/VS_Code/Text_LENGTH_Dashboard.html -->
    <link rel="canonical" href="Text_LENGTH_Dashboard.html">
    <!-- Main stylesheet for layout and design -->
    <link rel="stylesheet" href="Text_LENGTH_Dashboard.css">
</head>
<body>
    <header>
        <!-- Main page title: visible to sighted users and used by assistive tech -->
        <h1>Word Length Analyzer</h1>
    <!-- Screen-reader-only description: provides app summary for assistive technologies -->
    <!-- This text is not used directly by the JS logic but improves accessibility and explains the app to screen-reader users -->
    <p class="visually-hidden">Analyze word lengths, find longest and shortest words, and view detailed results. Accessible and semantic.</p>
    </header>

    <main>
        <article aria-labelledby="app-heading">
            <h2 id="app-heading" class="visually-hidden">Text Length Analysis Application</h2>

            <form id="analyzeForm" aria-describedby="instructions">
                <!-- Hidden instructions exposed to screen readers -->
                <div id="instructions" class="visually-hidden">Type or paste text into the textarea and press Analyze.</div>
                <!-- Label tied to the textarea for accessibility -->
                <label for="inputText">Enter text to analyze</label><br>
                <!-- Main textarea input read by JS via id="inputText" -->
                <textarea id="inputText" name="inputText" rows="6" cols="60" placeholder="Enter your text here..." aria-required="true"></textarea><br>
                <!-- Controls: checkbox to request extras and analyze button -->
                <label id="includeExtrasLabel" for="includeExtras">
                    <input id="includeExtras" type="checkbox"> Request extras (unique words & frequencies)
                </label>
                <!-- Analyze button: submits text in #inputText to compute and display word lengths and summaries -->
                <!-- aria-controls lists IDs the button will update (helps AT users understand the relationship) -->
                <button id="analyzeBtn" type="submit" aria-controls="wordLengths mostCommonWords leastCommonWords">Analyze Word Lengths</button>
            </form>

            <!-- Subtle JS-driven progress bar. Visible while processing and hidden when idle. -->
            <div id="progress-bar" class="progress-bar" aria-hidden="true">
                <div id="progress-bar-fill" class="progress-bar-fill" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
            </div>

            <section id="results" aria-labelledby="results-heading">
                <h2 id="results-heading">Results</h2>
                <!-- aria-labelledby: points to the heading that labels this section; aria-live: notifies screen readers when live content inside updates(not interrupting) -->

                <!-- List of all matched words (word + length). Populated by JS as <li> items in #wordLengths -->
                <section aria-labelledby="word-lengths-heading">
                    <h3 id="word-lengths-heading">Words with Lengths</h3>
                    <!-- Remove live updates here to avoid verbose, item-by-item announcements.
                         We'll announce a single summary via the #sr-announcer element. -->
                    <ul id="wordLengths"></ul>
                </section>

                <!-- Summary: word(s) with the maximum length. Updated by JS in #mostCommonWords (role=status + aria-live) -->
                <section aria-labelledby="highest-heading">
                    <h3 id="highest-heading">Word(s) With Highest Length</h3>
                    <!-- Keep visual summary for sighted users but disable automatic live announcements.
                         Use the single #sr-announcer for spoken updates. -->
                    <div id="mostCommonWords" role="region" aria-live="off"></div>
                </section>

                <!-- Summary: word(s) with the minimum length. Updated by JS in #leastCommonWords (role=status + aria-live) -->
                <section aria-labelledby="lowest-heading">
                    <h3 id="lowest-heading">Word(s) With Lowest Length</h3>
                    <div id="leastCommonWords" role="region" aria-live="off"></div>
                </section>

                <!-- Extras: unique words and frequencies (shown only when requested) -->
                <section aria-labelledby="extras-heading">
                    <h3 id="extras-heading">Extra Analysis (unique words & frequencies)</h3>
                    <div id="extrasContainer">
                        <div id="uniqueWords" aria-live="polite">
                            <h4>Unique Longest Words</h4>
                            <div id="uniqueMaxList">(enable 'Request extras' and run analysis)</div>
                            <h4>Unique Shortest Words</h4>
                            <div id="uniqueMinList">(enable 'Request extras' and run analysis)</div>
                        </div>
                        <div id="frequencies" aria-live="polite">
                            <h4>Top Frequencies</h4>
                            <div id="topFrequencies">(enable 'Request extras' and run analysis)</div>
                        </div>
                    </div>
                </section>
            </section>
        </article>
    </main>

    <footer>
        <p>Built by ramfromindia — <small>Accessible, semantic markup</small></p>
    </footer>
    <!-- Screen-reader-only announcer: single atomic live region for concise announcements.
         This prevents screen readers from reading every inserted <li> item and gives
         full control over the spoken summary. -->
    <div id="sr-announcer" class="visually-hidden" aria-live="polite" aria-atomic="true"></div>

    <!-- Module entry: modern browsers will load the module version. -->
    <script type="module" src="Text_LENGTH_Dashboard.js"></script>

    <!-- Legacy fallback: if the browser doesn't support modules, load the
         original non-module scripts in order. The inline nomodule loader
         keeps the previous behavior with minimal overhead. -->
    <script nomodule>
        (function () {
            var scripts = [
                'Text_LENGTH_expose.js',
                'Text_LENGTH_tokenize.js',
                'Text_LENGTH_mainProcessor.js',
                'Text_LENGTH_workerRunner.js',
                'Text_LENGTH_Worker_fallback.js',
                'Text_LENGTH_workerRouter.js',
                'Text_LENGTH_helperUI.js',
                'Text_LENGTH_Dashboard.js'
            ];
            for (var i = 0; i < scripts.length; i++) {
                var s = document.createElement('script');
                s.src = scripts[i];
                s.async = false; // preserve execution order
                document.body.appendChild(s);
            }
        }());
    </script>
</body>
</html>
